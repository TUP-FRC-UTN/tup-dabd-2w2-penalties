<app-main-container title="Reporte de Infracciones" (infoButtonClick)="infoModal()">
  <!-- Filters  -->
  <div class="card">
    <div class="card-body">
      <div class="d-flex gap-3">
        <div class="form-group d-flex flex-row align-items-center">
          <label class="form-label m-0 me-3">Desde:</label>
          <input
            type="date"
            class="form-control"
            [(ngModel)]="dateFilter.startDate"
            (ngModelChange)="onDateFilterChange()"
          />
        </div>
        <div class="form-group d-flex flex-row align-items-center">
          <label class="form-label m-0 me-3">Hasta:</label>
          <input
            type="date"
            class="form-control"
            [(ngModel)]="dateFilter.endDate"
            (ngModelChange)="onDateFilterChange()"
          />
        </div>
        <!-- <div class="ps-3" style="border-left: 2px solid #e0e0e0">
          <app-table-filters></app-table-filters>
        </div> -->
      </div>
    </div>
  </div>
  <!-- Gráficos -->
  <div class="div">
    <!-- Fila 1 -->
    <div class="mt-3 d-flex gap-3">
      <div class="card w-25">
        <div class="card-body">
          <div class="w-100 d-flex flex-column align-items-center">
            <h5 class="">Infracciones por Estado</h5>
            <canvas
            style="margin-top: -35px;"
              baseChart
              width="320px"
              [type]="'pie'"
              [datasets]="pieChartStatusDatasets"
              [labels]="pieChartStatusLabels"
              [options]="pieChartOptions"
              [plugins]="pieChartPlugins"
              [legend]="pieChartLegend"
            >
            </canvas>
          </div>
        </div>
      </div>
      <div class="card w-75">
        <div class="card-body">
          <div class="w-100 d-flex flex-column align-items-center">
            <h5 class="mb-3">Infracciones por Tipo de Sanción</h5>
            <canvas
              width="800px"
              height="230px"
              baseChart
              [data]="barChartPlotData"
              [options]="barChartOptions"
              [plugins]="barChartPlugins"
              [legend]="barChartLegend"
              [type]="'bar'"
            >
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-main-container>
